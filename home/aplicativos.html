<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/aplicativos.css">
  <link rel="icon" href="../img/logo-padrao.png">
<link rel="manifest" href="../manifest.json">
  <title>Aplicativos</title>
  
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>

<body>
  <header>
      <img src="../img/logo-padrao.png" class="banner">
  </header>

  <div class="app">
      <h2>UNION P2P beta 5.6.5 DNS</h2>
      
      <div class="carousel-container">
    <div class="carousel">
      <img src="../img/p2p-beta1.jpg" alt="P2P BETA" class="img1">
      <img src="../img/p2p-beta2.jpg" alt="P2P BETA" class="img1">
      <img src="../img/p2p-beta3.jpg" alt="P2P BETA" class="img1">
    </div>
  </div>

<a class="btn download-btn" data-app="UNION P2P beta 5.6.5 DNS" href="https://dl.ntdev.in/99785">Baixar aplicativo</a>

<div class="contador">
<p><i class="bi bi-cloud-download"></i></p>
<span class="download-count" data-app="UNION P2P beta 5.6.5 DNS">0</span>
</div>
      
  <div class="option">    
     <div class="codigo1">Ntdown: 99785</div>                  <div class="codigo2">Downloader: 851477</div>
  </div>
  </div>
  <hr>
  
  <div class="app">
      <h2>UNION P2P Versão 9.2.8</h2>
      
      <div class="carousel-container">
    <div class="carousel">
      <img src="../img/p2p-ultra1.jpg" alt="P2P ULTRA" class="img1">
      <img src="../img/p2p-ultra2.jpg" alt="P2P ULTRA" class="img1">
      <img src="../img/p2p-ultra3.jpg" alt="P2P ULTRA" class="img1">
    </div>
  </div>      
      
  <a class="btn download-btn" data-app="UNION P2P Versão 9.2.8" href="https://dl.ntdev.in/18898">Baixar aplicativo</a>
  <div class="contador">
<p><i class="bi bi-cloud-download"></i></p>
<span class="download-count" data-app="UNION P2P Versão 9.2.8">0</span>
</div> 
          
  <div class="option">    
     <div class="codigo1">Ntdown: 25563</div>                  <div class="codigo2">Downloader: 324644</div>
  </div>
  </div>
  <hr>
  
  <div class="app">
      <h2>UNION IPTV GOLD</h2>
      
      <div class="carousel-container">
    <div class="carousel">
      <img src="../img/union-gold1.jpg" alt="UNION GOLD" class="img1">
      <img src="../img/union-gold2.jpg" alt="UNION GOLD" class="img1">
      <img src="../img/union-gold3.jpg" alt="UNION GOLD" class="img1">
    </div>
  </div>                  
      
 <a class="btn download-btn" data-app="UNION IPTV GOLD" href="https://dl.ntdev.in/92394">Baixar aplicativo</a>
 <div class="contador">
<p><i class="bi bi-cloud-download"></i></p>
<span class="download-count" data-app="UNION IPTV GOLD">0</span>
</div>  
            
  <div class="option">    
     <div class="codigo1">Ntdown: 92394</div>                  <div class="codigo2">Downloader: 259112</div>
  </div>
  </div>
  <hr>
  
  <div class="app">
      <h2>UNION IPTV SMARTERS</h2>
      
      <div class="carousel-container">
    <div class="carousel">
      <img src="../img/union-smarters01.jpg" alt="UNION SMARTERS" class="img1">
      <img src="../img/union-smarters02.jpg" alt="UNION SMARTERS" class="img1">
      <img src="../img/union-smarters03.jpg" alt="UNION SMARTERS" class="img1">
    </div>
  </div>
            
  <a class="btn download-btn" data-app="UNION IPTV SMARTERS" href="https://dl.ntdev.in/17644">Baixar aplicativo</a>
  <div class="contador">
<p><i class="bi bi-cloud-download"></i></p>
<span class="download-count" data-app="UNION IPTV SMARTERS">0</span>
</div>      
      
  <div class="option">    
     <div class="codigo1">Ntdown: 17644</div>                  <div class="codigo2">Downloader: 783526</div>
  </div>
  </div>
  
  <footer>
  &copy 2025 Desenvolvedor 
  <strong><a href="https://wa.me/5581982258462?text=Por%20quanto%20você%20faz%20uma%20página%20dessa%3F" target="_blank">BRUNO SILVA</a></strong>
</footer>

<script type="module">
  // Importa as funções necessárias do Firebase
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-analytics.js";
  import { getFirestore, doc, getDoc, setDoc, updateDoc } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-firestore.js";
  import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-auth.js";

  // Configuração do Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyAtQKil0mLHMj0U9xpx5xvpIByiHEqZC7o",
    authDomain: "downloads-8bb3e.firebaseapp.com",
    projectId: "downloads-8bb3e",
    storageBucket: "downloads-8bb3e.firebasestorage.app",
    messagingSenderId: "525179646091",
    appId: "1:525179646091:web:d6d49616df45f99bf4e48e",
    measurementId: "G-8ZGSEH9X46"
  };

  // Inicializa o Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const db = getFirestore(app);
  const auth = getAuth();

  // Autenticação anônima no Firebase
  signInAnonymously(auth).catch((error) => {});

  // Espera a autenticação antes de ativar os botões de download
  onAuthStateChanged(auth, (user) => {
    if (user) {
      ativarDownload();
    }
  });

  // Função que ativa o sistema de registro de downloads
  function ativarDownload() {
    document.querySelectorAll(".btn").forEach((btn) => {
      btn.addEventListener("click", async function (event) {
        event.preventDefault();

        const appName = this.closest(".app").querySelector("h2").innerText;
        const appLink = this.href;
        const appRef = doc(db, "downloads", appName);

        try {
          const docSnap = await getDoc(appRef);
          if (docSnap.exists()) {
            await updateDoc(appRef, { count: docSnap.data().count + 1 });
          } else {
            await setDoc(appRef, { count: 1 });
          }
          window.location.href = appLink;
        } catch (error) {}
      });
    });
  }

  // Atualiza a contagem de downloads ao carregar a página
  document.addEventListener("DOMContentLoaded", async function () {
    const elements = document.querySelectorAll(".download-count");

    elements.forEach(async (element) => {
      const appName = element.getAttribute("data-app");
      const appRef = doc(db, "downloads", appName);

      try {
        const docSnap = await getDoc(appRef);
        if (docSnap.exists()) {
          element.innerText = docSnap.data().count;
        }
      } catch (error) {}
    });
  });
</script>

</body>
</html>